function animation(iode,varargin)
%ANIMATION Summary of this function goes here
%   Detailed explanation goes here
    p = inputParser;
    
    addRequired(p,'iode')
    addOptional(p,'YLim',[])
    
    parse(p,iode,varargin{:})
    
    YLim = p.Results.YLim;
    
    Y = iode.Y;
    
    
    f = figure;
    ax = axes('Parent',f);
    if ~isempty(YLim)
        ax.YLim = YLim;
    end
    
    %
    tline = iode.tline;
    
    index = 0;
    
    tic;
    tmax = tline(end);
    while true 
        t = toc;
        if t > tmax
            break
        end
        
    end
    
    for irow = 1:length(Y(:,1))
        index = index + 1;
        delete(ax.Children)
        line(0:(length(Y(irow,:))-1),Y(irow,:),'Parent',ax,'Marker','*')
        ax.Title.String = ['t = ',num2str(tline(index)),' s'];
        pause(0.5)
    end
end

